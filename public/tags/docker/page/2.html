<!DOCTYPE html>
<html>
  <head>
    <title>wiki.ght1pc9kc.fr</title>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.40.2" />
<title>Docker :: wiki.ght1pc9kc.fr</title>
<link rel="shortcut icon" href="/images/logo.png" type="image/x-icon" />
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/css/style.css" rel="stylesheet">
<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "";
</script>
  </head>
  <body data-url="/tags/docker.html">

    <header>
  
  <div class="logo">
	<a class="baselink" href="">
	    <img src="/images/logo.png" alt="wiki.ght1pc9kc.fr"/> wiki.ght1pc9kc.fr
	</a>
</div>
<span class="spacer">&nbsp;</span>
<div class="navbar-right">
    <form class="navbar-form navbar-left" action="/search.html" method="get">
       <input id="search-box" name="query" placeholder="Search..." autocomplete="off" spellcheck="false" dir="auto" type="text">
    </form>
</div>
</header>
<article>
  <aside class="menu">
    <div class="list-group">
        <a href="/cuisine.html" class="list-group-item list-group-item-action active">Cuisine</a>
    </div>
    <div class="list-group">
        <a href="/misc.html" class="list-group-item list-group-item-action active">Divers</a>
    </div>
    <div class="list-group">
        <a href="/development.html" class="list-group-item list-group-item-action active">Développement</a>
        <a href="/development/dotnet.html" class="list-group-item list-group-item-action ">.Net</a>
        <a href="/development/gwt.html" class="list-group-item list-group-item-action ">GWT</a>
        <a href="/development/java.html" class="list-group-item list-group-item-action ">Java</a>
        <a href="/development/javascript.html" class="list-group-item list-group-item-action ">Javascript</a>
        <a href="/development/spring.html" class="list-group-item list-group-item-action ">Spring</a>
    </div>
    <div class="list-group">
        <a href="/linux.html" class="list-group-item list-group-item-action active">Linux</a>
        <a href="/linux/administration.html" class="list-group-item list-group-item-action ">Administration</a>
        <a href="/linux/divers.html" class="list-group-item list-group-item-action ">Divers</a>
        <a href="/linux/gnomeshell.html" class="list-group-item list-group-item-action ">GnomeShell</a>
        <a href="/linux/network.html" class="list-group-item list-group-item-action ">Réseau</a>
        <a href="/linux/shell.html" class="list-group-item list-group-item-action ">Shell</a>
    </div>
    <div class="list-group">
        <a href="/outils.html" class="list-group-item list-group-item-action active">Outils</a>
        <a href="/outils/ansible.html" class="list-group-item list-group-item-action ">Ansible</a>
        <a href="/outils/docker.html" class="list-group-item list-group-item-action ">Docker</a>
        <a href="/outils/eclipse.html" class="list-group-item list-group-item-action ">Eclipse</a>
        <a href="/outils/git.html" class="list-group-item list-group-item-action ">Git</a>
        <a href="/outils/intellij.html" class="list-group-item list-group-item-action ">IntelliJ</a>
        <a href="/outils/latex.html" class="list-group-item list-group-item-action ">LaTeX</a>
        <a href="/outils/vmware.html" class="list-group-item list-group-item-action ">VMWare</a>
    </div>
    <div class="list-group">
        <a href="/serveurs.html" class="list-group-item list-group-item-action active">Serveur</a>
        <a href="/serveurs/http.html" class="list-group-item list-group-item-action ">HTTP</a>
        <a href="/serveurs/jboss.html" class="list-group-item list-group-item-action ">JBoss</a>
        <a href="/serveurs/mysql.html" class="list-group-item list-group-item-action ">MySQL</a>
        <a href="/serveurs/neo4j.html" class="list-group-item list-group-item-action ">Neo4J</a>
        <a href="/serveurs/oracle.html" class="list-group-item list-group-item-action ">Oracle</a>
        <a href="/serveurs/teradata.html" class="list-group-item list-group-item-action ">TeraData</a>
    </div>


  </aside>
  <section class="page">

    <h1>Docker</h1>
    
    



<div class="extra-pagination inner">
<nav class="pagination" role="navigation">
	
	    <a class="newer-posts" href="/tags/docker.html">&larr; Previous Pages</a>
	
	<span class="page-number">Page 2 of 2</span>
	
</nav>

</div>


   <article class="post outils">
    <header class="post-header">
        <h2 class="post-title"><a href="/outils/docker/supprimer-les-vieux-conteneurs.html">Supprimer les vieux conteneurs</a></h2>
    </header>
    <section class="post-excerpt">
        <p>Pour supprimer les vieux conteneur de plus d&rsquo;une semaine par exemple :
docker ps -a | grep &#39;weeks ago&#39; | awk &#39;{print $1}&#39; | xargs docker rm -v  Les conteneurs issue d&rsquo;images non taggé :
docker ps -a | awk &#39;$2 ~ &#34;[0-9a-f]{12}&#34; {print $&#34;$1&#34;}&#39; docker ps -a | awk &#39;$2 ~ /^[0-9a-f]+$/ {print $1}&#39; | xargs docker rm -v  Et pour virer tous les conteneurs arrété : <a class="read-more" href="/outils/docker/supprimer-les-vieux-conteneurs.html">&raquo;</a></p>
    </section>
    <footer class=" footline" >
         
        

        
          
            
                <a class="label label-default" href="tags/development/">development</a>
            
                <a class="label label-default" href="tags/docker/">docker</a>
            
                <a class="label label-default" href="tags/cleanup/">cleanup</a>
            
        

    </footer>
</article>

   <article class="post outils">
    <header class="post-header">
        <h2 class="post-title"><a href="/outils/docker/system-error-on-docker-run.html">System error on docker run</a></h2>
    </header>
    <section class="post-excerpt">
        <p> Après une mise à jour du système, au démarrage de mon container docker je prend l&rsquo;erreur suivante :
Error response from daemon: Cannot start container {id}: [8] System error: open /sys/fs/cgroup/cpu,cpuacct/init.scope/system.slice/docker-{id}.scope/cpu.shares: no such file or directory 
C&rsquo;est apparement lié a un bug Debian : https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=798778
Il est possible de palier en ajoutant --exec-opt native.cgroupdriver=cgroupfs dans /etc/default/docker.
Liens  https://stackoverflow.com/questions/32845917/system-error-on-docker-run   <a class="read-more" href="/outils/docker/system-error-on-docker-run.html">&raquo;</a></p>
    </section>
    <footer class=" footline" >
         
        

        
          
            
                <a class="label label-default" href="tags/development/">development</a>
            
                <a class="label label-default" href="tags/docker/">docker</a>
            
                <a class="label label-default" href="tags/error/">error</a>
            
        

    </footer>
</article>

   <article class="post outils">
    <header class="post-header">
        <h2 class="post-title"><a href="/outils/docker/update-toutes-les-images.html">Update toutes les images</a></h2>
    </header>
    <section class="post-excerpt">
        <p>Pour mettre à jour toutes les images d&rsquo;un docker en une commande:
docker images | awk &#39;{print $1}&#39; | xargs -L1 docker pull <a class="read-more" href="/outils/docker/update-toutes-les-images.html">&raquo;</a></p>
    </section>
    <footer class=" footline" >
         
        

        
          
            
                <a class="label label-default" href="tags/development/">development</a>
            
                <a class="label label-default" href="tags/docker/">docker</a>
            
                <a class="label label-default" href="tags/error/">error</a>
            
        

    </footer>
</article>

   <article class="post outils">
    <header class="post-header">
        <h2 class="post-title"><a href="/outils/docker/weekly-cleaner.html">Weekly cleaner</a></h2>
    </header>
    <section class="post-excerpt">
        <p>A placer dans /etc/cron.weekly/clean-docker + chmod +x ...
docker rm -v $(docker ps -a -q) docker rmi $(docker images | grep &#39;^&lt;none&gt;&#39; | awk &#39;{print $3}&#39;) docker rmi $(docker images | grep &#39;months ago&#39; | awk &#39;{print $3}&#39;) Ca ve supprimer les images vieilles de plusieurs mois et celle non tagés ainsi que les conteneur associés. <a class="read-more" href="/outils/docker/weekly-cleaner.html">&raquo;</a></p>
    </section>
    <footer class=" footline" >
         
        

        
          
            
                <a class="label label-default" href="tags/development/">development</a>
            
                <a class="label label-default" href="tags/docker/">docker</a>
            
                <a class="label label-default" href="tags/cleanup/">cleanup</a>
            
        

    </footer>
</article>


<div style="margin-bottom:2rem"></div>

<nav class="pagination" role="navigation">
	
	    <a class="newer-posts" href="/tags/docker.html">&larr; Previous Pages</a>
	
	<span class="page-number">Page 2 of 2</span>
	
</nav>




    
    
  </section>

  
      <aside class="toc">
        
      </aside>
  

</article>

<script src="/js/clipboard.min.js"></script>

<link href="/css/featherlight.min.css" rel="stylesheet">
<script src="/js/featherlight.min.js"></script>



<script src="/js/search.js"></script>


    
    

    
  </body>
</html>
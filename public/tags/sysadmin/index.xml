<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Sysadmin on wiki.ght1pc9kc.fr</title>
    <link>/tags/sysadmin.html</link>
    <description>Recent content in Sysadmin on wiki.ght1pc9kc.fr</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>fr-fr</language>
    
	<atom:link href="/tags/sysadmin/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Activer SUDO sur Debian</title>
      <link>/linux/administration/activer-sudo-sur-debian.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/linux/administration/activer-sudo-sur-debian.html</guid>
      <description>Pour des raisons pratique et de sécurité, il peut être intéressant d&amp;rsquo;activer SUDO. Sur les Ubuntu c&amp;rsquo;est le cas par défaut, pas sur les Debian. Voilà la marche à suivre pour le faire.
Activation de SUDO Se connecter en administrateur $ su - Installer le paquet # apt-get install sudo Ajouter l&amp;rsquo;utilisateur administrateur aux sudoers Sudo autorise des utilisateurs normaux, comme celui qui est créé lors de l&amp;rsquo;installation, à se connecter en tant que super utilisateur.</description>
    </item>
    
    <item>
      <title>Ajouter de la swap sans toucher au partition</title>
      <link>/linux/administration/ajouter-de-la-swap-sans-toucher-au-partition.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/linux/administration/ajouter-de-la-swap-sans-toucher-au-partition.html</guid>
      <description>Ouais, il faut un minimum de swap pour installer Oracle XE (ou autre chose) et on a pas toujours ce que l’installeur demande. Par exemple si on a pas choisi de partitionner à la main !
Mais comme Linux c’est quand même super bien branlé, on va pouvoir créer un fichier de swap supplémentaire qui va permettre d’atteindre le minimum demandé sans avoir a retoucher les partoches.
Déjà, pour savoir combien on a :</description>
    </item>
    
    <item>
      <title>Analyze systemd boot speed</title>
      <link>/linux/administration/analyze-systemd-boot-speed.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/linux/administration/analyze-systemd-boot-speed.html</guid>
      <description> Quelques commandes permettant d’analyser les perfs de Systemd systemd-analyze time systemd-analyze blame systemd-analyze critical-chain systemd-analyze plot &amp;gt; plot.svg  Links  http://blog.touret.info/blog/2018/01/20/ameliorer-le-boot-sous-debian-9/#utm_source=rss&amp;amp;utm_medium=rss  </description>
    </item>
    
    <item>
      <title>Change Active Directory password on Linux</title>
      <link>/linux/administration/change-active-directory-password-on-linux.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/linux/administration/change-active-directory-password-on-linux.html</guid>
      <description>Pour changer son mot de passe ActiveDirectory sans passer par une machine Windows, il est possible de le faire en ligne de commande :
apt-get install samba-common-bin smbpasswd -r &amp;lt;IP ActiveDirectory&amp;gt; -U &amp;lt;user&amp;gt; Si le DNS est configuré correctement, il est possible de trouver son IP avec la commande suivante :
nslookup _ldap.</description>
    </item>
    
    <item>
      <title>Changer le nom d’une machine</title>
      <link>/linux/administration/changer-le-nom-dune-machine.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/linux/administration/changer-le-nom-dune-machine.html</guid>
      <description>En tant que root éditer les fichiers suivant pour remplacer l&amp;rsquo;ancien nom par le nouveau :
 /etc/hostname /etc/hosts  Si base oracle installé -&amp;gt; Changer le nom d’une machine sans casser XE</description>
    </item>
    
    <item>
      <title>Comment installer une alternative</title>
      <link>/linux/administration/comment-installer-une-alternative.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/linux/administration/comment-installer-une-alternative.html</guid>
      <description>Sous Debian il y a un outil pas mal qui permet de switcher entre plusieurs versions d&amp;rsquo;un même exécutable, c&amp;rsquo;est update-alternatives. Pour installer une nouvelle alternative, de java par exemple :
sudo update-alternatives --install /usr/bin/javac javac /opt/java/jdk1.7.0_51/bin/javac 100 Pour lister les alternatives de java :
update-alternatives --list java Pour configurer une alternative à java :
sudo update-alternatives --config java</description>
    </item>
    
    <item>
      <title>Configuration Swappiness</title>
      <link>/linux/administration/configuration-swappiness.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/linux/administration/configuration-swappiness.html</guid>
      <description>Sur Linux, il y a un paramètre qui indique au système d&amp;rsquo;aller écrire en SWAP même si la RAM est pas pleine. Par défaut, ce paramètre est à 60 ce qui signifie qu&amp;rsquo;a partir du moment où la RAM est pleine à 40%, le système se défoule sur les disques.
Pour le modifier voilà comment faire :
 Ouvrez le fichier /etc/sysctl.conf Modifiez ou ajoutez le paramètre  vm.swappiness=10 De cette façon, le système ne se mettra à swapper qu&amp;rsquo;à partir de 90% de remplissage.</description>
    </item>
    
    <item>
      <title>Demarrage de JBoss en service</title>
      <link>/linux/administration/demarrage-de-jboss-en-service.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/linux/administration/demarrage-de-jboss-en-service.html</guid>
      <description>Ce qui est pas si évident que ça a faire sous Linux. C&amp;rsquo;est utile si on n&amp;rsquo;a pas accès à la console de la machine ou pour que le JBoss se lance tout seul au démarrage.
Script init.d Il faut commencé par créer un script d&amp;rsquo;init. Pour cela on peut se servir de celui se trouvant à la fin de la page.
Attention de bien penser à changer la variable &amp;ldquo;CAMELEON_DIR&amp;rdquo; avec le bon chemin d&amp;rsquo;installation de JBoss.</description>
    </item>
    
    <item>
      <title>Desactiver l’interface graphique</title>
      <link>/linux/administration/desactiver-l-interface-graphique.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/linux/administration/desactiver-l-interface-graphique.html</guid>
      <description>Pour qu&amp;rsquo;une machine Linux démarre plus vite et avec moins de RAM, si vous vous le sentez, il est possible de ne pas lancer l&amp;rsquo;interface graphique. Pour cela il faut modifier le fichier /etc/default/grub.
Remplacer la valeur de GRUB_CMDLINE_LINUX par text
GRUB_CMDLINE_LINUX=&amp;quot;text&amp;quot;  Puis dans une ligne de commande root :
update-grub Redémarrer</description>
    </item>
    
    <item>
      <title>Installer backup sur jail BSD</title>
      <link>/linux/administration/installer-backup-sur-jail-bsd.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/linux/administration/installer-backup-sur-jail-bsd.html</guid>
      <description>Une fois la jail créée, pour que les scripts de backup fonctionnent il faut install bash et hubic.py. C&amp;rsquo;est pas toujours intuitif alors voilà ce que j&amp;rsquo;ai fais la dernière fois :
pkg install bash python2.7 -m ensurepip pip install --upgrade pip wget https://raw.githubusercontent.com/puzzle1536/hubic-wrapper-to-swift/master/requirements.txt pip install -r requirements.txt wget https://raw.githubusercontent.com/puzzle1536/hubic-wrapper-to-swift/master/hubic.py chmod +x hubic.py ln -s /usr/local/bin/python2.7 /usr/bin/python pkg install gnupg En plus de ça, comme expliqué lors de l&amp;rsquo;installation de bash, il faut ajouter un script postinit à FreeNAS pour qu&amp;rsquo;il monte la partition fdescfs avec la commande mount -t fdescfs null /mnt/storage/jails/&amp;lt;nom de la jail&amp;gt;/dev/fd</description>
    </item>
    
    <item>
      <title>Last Firefox Version in testing</title>
      <link>/linux/administration/last-firefox-version-in-testing.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/linux/administration/last-firefox-version-in-testing.html</guid>
      <description>Depuis un moment iceweasel est remplacé par Firefox ESR sous Debian. Par contre, les depots Debian ont une dixaine de version de retard sur les versions release de Firefox. Du coup voici comment mettre à jour Firfox simplement et de façon fiable à la dernière version en cours :
Récupération de la clé de dépôt wget -q -O - http://mozilla.debian.net/archive.asc | \  sudo apt-key add - Ajout de mozilla.</description>
    </item>
    
    <item>
      <title>Lister le materiel présent sur la machine</title>
      <link>/linux/administration/lister-le-materiel-present-sur-la-machine.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/linux/administration/lister-le-materiel-present-sur-la-machine.html</guid>
      <description>Pour lister tout le matos présent sur un machine Linux:
sudo lshw -short La commande a besoin d&amp;rsquo;être installé via apt-get install lshw</description>
    </item>
    
    <item>
      <title>MTA est long à démarrer</title>
      <link>/linux/administration/mta-est-long-a-demarrer.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/linux/administration/mta-est-long-a-demarrer.html</guid>
      <description>Déjà c&amp;rsquo;est quoi le MTA ? C&amp;rsquo;est le Mail Transfert Agent, en gros le truc qui s&amp;rsquo;occupe part déjà de distribuer les mails au différents users. Quand il est long à démarrer ça peut venir de trois facteurs :
 le réseau est mal configuré, à savoir qu&amp;rsquo;il y a une route par défaut mais qu&amp;rsquo;elle ne fonctionne pas le DNS est mal configuré ; le MTA essaye de se connecter à un smarthost inexistant ou inaccessible.</description>
    </item>
    
    <item>
      <title>Missing LSB tags and overrides</title>
      <link>/linux/administration/missing-lsb-tags-and-overrides.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/linux/administration/missing-lsb-tags-and-overrides.html</guid>
      <description>Symptômes On a ce genre de chose après une installation de paquets et les paquets ne sont pas configuré correctement :
Paramétrage de kerneloops-daemon (0.12+git20090217-3) ... insserv: warning: script &#39;K01vmware&#39; missing LSB tags and overrides insserv: warning: script &#39;S50vmware-USBArbitrator&#39; missing LSB tags and overrides insserv: warning: script &#39;vmware&#39; missing LSB tags and overrides insserv: warning: script &#39;vmware-USBArbitrator&#39; missing LSB tags and overrides insserv: There is a loop at service minissdpd if started insserv: Starting vmware-USBArbitrator depends on minissdpd and therefore on system facility `$all&#39; which can not be true!</description>
    </item>
    
    <item>
      <title>Monter une image ISO</title>
      <link>/linux/administration/monter-une-image-iso.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/linux/administration/monter-une-image-iso.html</guid>
      <description>mount -o loop -t iso9660 fichier.iso /mnt/iso</description>
    </item>
    
    <item>
      <title>Nettoyer les fichiers de configuration</title>
      <link>/linux/administration/nettoyer-les-fichiers-de-configuration.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/linux/administration/nettoyer-les-fichiers-de-configuration.html</guid>
      <description>Au fil des mises à jours d&amp;rsquo;une Debian, il arrive que des fichiers de configuration ne soient pas bien nettoyé. Il est parfois difficile dans les deb de supprimer des fichiers. Voilà comment trouver ces fichiers obsolète et les supprimer.
Procédure standard dpkg-query -W -f=&amp;#39;${Conffiles}\n&amp;#39; | grep &amp;#39;obsolete$&amp;#39; /etc/apparmor.d/abstractions/evince ae2a1e8cf5a7577239e89435a6ceb469 obsolete /etc/apparmor.d/tunables/ntpd 5519e4c01535818cb26f2ef9e527f191 obsolete /etc/apparmor.d/usr.bin.evince 08a12a7e468e1a70a86555e0070a7167 obsolete /etc/apparmor.d/usr.sbin.ntpd a00aa055d1a5feff414bacc89b8c9f6e obsolete /etc/bash_completion.d/initramfs-tools 7eeb7184772f3658e7cf446945c096b1 obsolete /etc/bash_completion.d/insserv 32975fe14795d6fce1408d5fd22747fd obsolete /etc/dbus-1/system.d/com.redhat.NewPrinterNotification.conf 8df3896101328880517f530c11fff877 obsolete /etc/dbus-1/system.</description>
    </item>
    
    <item>
      <title>Nettoyer sa Debian</title>
      <link>/linux/administration/nettoyer-sa-debian.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/linux/administration/nettoyer-sa-debian.html</guid>
      <description>Même si ce n&amp;rsquo;est pas dans les proportion de Windows, un Linux a tendance à accumuler des reliquats de vieux paquets et du cache pas vraiment utile qui à la longue pèsent lourd sur l&amp;rsquo;espace disque (ça ne ralenti pas le système pour autant).
Localepurge C&amp;rsquo;est la première chose à faire, &amp;ldquo;localepurge&amp;rdquo; est un outil qui à chaque install de paquet ou de mise à jour, va faire le ménage dans les langues installé.</description>
    </item>
    
    <item>
      <title>Probleme de politique de securite X11</title>
      <link>/linux/administration/probleme-de-politique-de-securite-x11.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/linux/administration/probleme-de-politique-de-securite-x11.html</guid>
      <description> Symptome Au lancement du vmware-toolbox en tant que root, on prend l&amp;rsquo;erreur :
PuTTY X11 proxy: wrong authorisation protocol attempted  Solution Créer un fichier /root/.Xauthority
administrateur@ubuntu:~$ xauth list ubuntu/unix:10 MIT-MAGIC-COOKIE-1 c76ff33554b56b2a749019c13a1b71c5 administrateur@ubuntu:~$ sudo -i root@ubuntu:~# xauth add ubuntu/unix:10 MIT-MAGIC-COOKIE-1 c76ff33554b56b2a749019c13a1b71c5 xauth: file /root/.Xauthority does not exist Truc &amp;amp; Astuuuuuce Pour automatiser :
xauth list | while read x ; do sudo xauth add $x ; done</description>
    </item>
    
    <item>
      <title>apt-get Encountered a section with no Package header</title>
      <link>/linux/administration/apt-get--encountered-a-section-with-no-package--header.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/linux/administration/apt-get--encountered-a-section-with-no-package--header.html</guid>
      <description>Un beau matin alors que je veux mettre a jour ma debian, je me retrouve avec le message d&amp;rsquo;erreur suivant :
W: Impossible de récupérer copy:/var/lib/apt/lists/partial/... Encountered a section with no Package: header  C&amp;rsquo;est un problème bien foireux dont j&amp;rsquo;ai eu du mal à me sortir ! En fait ya eu un bug un moment donné et du coup sur les machines qui n&amp;rsquo;ont pas été mise à jour régulièrement on trouve ce message.</description>
    </item>
    
  </channel>
</rss>